<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <script src="classic.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/game2.css">

</head>

    <body onload="firstscript()">
        <div id="none">
        <audio controls loop autoplay preload="auto" src="pin.mp3" type="audio/mp3"></audio>
        </div>
        <div id="timer">
             <span id="min">5</span> <font size="30px">分</font>
             <span id="sec">00</span> <font size="30px">秒</font>
            </audio>
            <div id="text-button" onclick="clickDisplayAlert()"><font size="5">押</font></div>
            </div>
        <p1>数当てクイズ<p1>
            <br></br>
        <br><p2>数を予想する</p2></br>
    <script>
       var time = 300;
       var counter;
       var min = document.getElementById("min");
       var sec = document.getElementById("sec");
       const newaudio = new Audio('hayaoshi.mp3');
       const aaaaudio = new Audio('seikai.mp3');
       const iiiaudio = new Audio('seikai.mp3');
       const fuaudio = new Audio('fuseikai.mp3');
       const raudio = new Audio('fuseikai.mp3');
       let mondai = ['シェリフをリロードせずに何発うてる？','山田哲人の背番号は何番？','ありの足の数は何本？','山田哲人がトリプルスリーを達成した回数は何回？','満塁ホームランは何点入る？'];
       let answer = [6,1,6,3,4];
    </script>
    <script>
        function firstscript(){
            
            counter = setInterval( count, 1000);//1秒ごとにcountが動かされる
            

        }
        </script>
        <script>
        function count() {
      if( time === 0 ) {
      sec.innerHTML = 0;
      min.innerHTML = 0;
      alert("起きろや");
      clearInterval( counter );      
      window.location.href = 'index.html';
      } else {

      time -= 1;
      sec.innerHTML = time % 60;
      min.innerHTML = Math.floor( time / 60 );
      }
        }
    function clickDisplayAlert(){
        newaudio.play();
        var n = 4;
        const kazu = Math.floor(Math.random() * (n + 1))
        alert('数当てクイズ！1〜6の中から解答してください。解答権は2回です。');
        let userInput = prompt(mondai[kazu]);
        for (let i = 1; i < 2; i++) {
            if (userInput == answer[kazu]) {
                aaaaudio.play();
                alert("良い一日を");
                window.location.href = 'index.html';
                break;
            }else{
                fuaudio.play();
                time += 30;
                let userInput = prompt('残念！もう1度1〜6の中から解答してください');
                if (userInput == answer[kazu]){
                    iiiaudio.play();
                    alert("良い一日を");
                    window.location.href = 'index.html';
                    break;
                }else{
                    raudio.play();
                    time += 30;
                    alert("調子が悪かったんだね");
                    break;
                }    
            }
        }
    }
    </script>
</body>

</html>